set client_encoding TO 'UTF8';

GRANT ALL PRIVILEGES ON DATABASE grimdawn TO grimdawn;
CREATE SCHEMA grimdawn AUTHORIZATION grimdawn;

CREATE TABLE grimdawn.constellations
(
    name character varying(255) NOT NULL,
    adcth integer,
    armor integer,
    armor_absorb integer,
    armor_pct integer,
    armor_piercing integer,
    attack_speed integer,
    attr_constitution integer,
    attr_cunning integer,
    attr_cunning_pct integer,
    attr_da integer,
    attr_da_pct integer,
    attr_oa integer,
    attr_oa_pct integer,
    attr_physique integer,
    attr_physique_pct integer,
    attr_spirit integer,
    attr_spirit_pct integer,
    avoid_melee integer,
    avoid_projectiles integer,
    casting_speed integer,
    dmg_acid integer,
    dmg_acid_pct integer,
    dmg_aether integer,
    dmg_aether_pct integer,
    dmg_all integer,
    dmg_bleeding integer,
    dmg_bleeding_pct integer,
    dmg_burn integer,
    dmg_burn_pct integer,
    dmg_chaos integer,
    dmg_chaos_pct integer,
    dmg_cold integer,
    dmg_cold_pct integer,
    dmg_crit integer,
    dmg_electrocute_pct integer,
    dmg_elemental integer,
    dmg_elemental_pct integer,
    dmg_fire integer,
    dmg_fire_pct integer,
    dmg_frostburn integer,
    dmg_frostburn_pct integer,
    dmg_internal integer,
    dmg_internal_pct integer,
    dmg_lightning integer,
    dmg_lightning_pct integer,
    dmg_physical integer,
    dmg_physical_pct integer,
    dmg_pierce integer,
    dmg_pierce_pct integer,
    dmg_poison integer,
    dmg_poison_pct integer,
    dmg_reflected integer,
    dmg_vitality integer,
    dmg_vitality_pct integer,
    dot_vitality_decay integer,
    dot_vitality_decay_pct integer,
    energy integer,
    energy_absorbed integer,
    energy_pct integer,
    energy_regen_pct integer,
    energy_regen_sec integer,
    health integer,
    health_pct integer,
    health_regen_pct integer,
    health_regen_sec integer,
    less_dmg_arachnids integer,
    less_dmg_beasts integer,
    less_dmg_insectoids integer,
    less_dmg_undead integer,
    movement integer,
    pet_adcth integer,
    pet_all_dmg integer,
    pet_armor_pct integer,
    pet_attack_speed integer,
    pet_da_pct integer,
    pet_dmg_bleeding integer,
    pet_dmg_crit integer,
    pet_dmg_elemental integer,
    pet_dmg_fire integer,
    pet_dmg_lightning integer,
    pet_dmg_lightning_pct integer,
    pet_dmg_poison integer,
    pet_health_pct integer,
    pet_health_regen_pct integer,
    pet_health_regen_sec integer,
    pet_oa_pct integer,
    pet_res_aether integer,
    pet_res_all_max integer,
    pet_res_bleeding integer,
    pet_res_chaos integer,
    pet_res_elemental integer,
    pet_res_physical integer,
    pet_res_pierce integer,
    pet_res_poison_acid integer,
    pet_res_vitality integer,
    pet_ret_all_dmg integer,
    pet_ret_pierce integer,
    pet_total_speed integer,
    red_bleeding_dur integer,
    red_burn_dur integer,
    red_electrocute_dur integer,
    red_elemental_res integer,
    red_entrapment_dur integer,
    red_freeze_dur integer,
    red_frostburn_dur integer,
    red_internal_dur integer,
    red_life_leech_dur integer,
    red_poison_dur integer,
    red_reflected_dmg integer,
    red_stun_dur integer,
    red_vitality_decay_dur integer,
    req_cunning_melee integer,
    req_cunning_ranged integer,
    req_physique_melee integer,
    req_physique_shield integer,
    req_spirit_jewelry integer,
    req_spirit_weapon integer,
    res_aether integer,
    res_aether_max integer,
    res_bleeding integer,
    res_bleeding_max integer,
    res_chaos integer,
    res_chaos_max integer,
    res_cold integer,
    res_cold_max integer,
    res_elemental integer,
    res_energy_leech integer,
    res_fire integer,
    res_life_leech integer,
    res_lightning integer,
    res_lightning_max integer,
    res_physical integer,
    res_pierce integer,
    res_pierce_max integer,
    res_poison_acid integer,
    res_poison_acid_max integer,
    res_slow integer,
    res_vitality integer,
    res_vitality_max integer,
    ret_all_dmg integer,
    ret_chaos integer,
    ret_fire integer,
    ret_physical integer,
    ret_pierce integer,
    ret_reduced_attack_speed integer,
    ret_slowed_movement integer,
    ret_vitality_decay integer,
    shield_block_chance integer,
    shield_dmg_blocked integer,
    shield_recovery integer,
    skill_disrupt_protect integer,
    skill_energy_cost_pct integer,
    stun_chance integer,
    stun_duration integer,
    total_speed integer,
    vs_beasts_dmg_pct integer,
    vs_chthonics_dmg_pct integer,
    vs_humans_dmg_pct integer,
    vs_undead_dmg_pct integer,
    CONSTRAINT constellations_pkey PRIMARY KEY (name)
);

ALTER TABLE grimdawn.constellations
    OWNER to grimdawn;

COPY grimdawn.constellations FROM '/docker-entrypoint-initdb.d/grimdawn-data.csv' WITH HEADER DELIMITER ',' CSV ENCODING 'UTF-8'